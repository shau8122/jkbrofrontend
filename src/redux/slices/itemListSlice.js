import { createSlice } from "@reduxjs/toolkit";

const initialState = {
  furnitureData: {
    Sofa: {
      items: [
        {
          item: "Single",
          count: 0,
        },
        {
          item: "Double",
          count: 0,
        },
        {
          item: "3 Seater",
          count: 0,
        },
        {
          item: "4 seater",
          count: 0,
        },
        {
          item: "5 seater",
          count: 0,
        },
        {
          item: "6 seater",
          count: 0,
        },
        {
          item: "Recliner",
          count: 0,
        },
      ],
    },
    Bed: {
      items: [
        {
          item: "Platform Bed",
          count: 0,
        },
        {
          item: "Sleigh Bed",
          count: 0,
        },
        {
          item: "Canopy Bed",
          count: 0,
        },
        {
          item: "Four-Poster Bed",
          count: 0,
        },
        {
          item: "Panel Bed",
          count: 0,
        },
        {
          item: "Murphy Bed",
          count: 0,
        },
        {
          item: "Trundle Bed",
          count: 0,
        },
        {
          item: "Bunk Bed",
          count: 0,
        },
        {
          item: "Daybed",
          count: 0,
        },
        {
          item: "Futon Bed",
          count: 0,
        },
        {
          item: "Sofa Bed",
          count: 0,
        },
      ],
    },
    Mattress: {
      items: [
        {
          item: "Innerspring Mattress",
          count: 0,
        },
        {
          item: "Memory Foam Mattress",
          count: 0,
        },
        {
          item: "Latex Mattress",
          count: 0,
        },
        {
          item: "Hybrid Mattress",
          count: 0,
        },
        {
          item: "Gel Mattress",
          count: 0,
        },
        {
          item: "Air Mattress",
          count: 0,
        },
        {
          item: "Waterbed Mattress",
          count: 0,
        },
        {
          item: "Organic Mattress",
          count: 0,
        },
        {
          item: "Adjustable Mattress",
          count: 0,
        },
        {
          item: "Pillow-top Mattress",
          count: 0,
        },
        {
          item: "Euro Top Mattress",
          count: 0,
        },
        {
          item: "Futon Mattress",
          count: 0,
        },
        {
          item: "Roll-Up Mattress",
          count: 0,
        },
        {
          item: "Orthopedic Mattress",
          count: 0,
        },
        {
          item: "Crib Mattress",
          count: 0,
        },
      ],
    },
    Chairs: {
      items: [
        {
          item: "Armchair",
          count: 0,
        },
        {
          item: "Rocking Chair",
          count: 0,
        },
        {
          item: "Recliner",
          count: 0,
        },
        {
          item: "Wingback Chair",
          count: 0,
        },
        {
          item: "Club Chair",
          count: 0,
        },
        {
          item: "Accent Chair",
          count: 0,
        },
        {
          item: "Barber Chair",
          count: 0,
        },
        {
          item: "Chaise Lounge",
          count: 0,
        },
        {
          item: "Gaming Chair",
          count: 0,
        },
        {
          item: "Swivel Chair",
          count: 0,
        },
        {
          item: "Egg Chair",
          count: 0,
        },
        {
          item: "Adirondack Chair",
          count: 0,
        },
        {
          item: "Bean Bag Chair",
          count: 0,
        },
      ],
    },
    Tables: {
      items: [
        {
          item: "Coffee Table",
          count: 0,
        },
        {
          item: "Dining Table",
          count: 0,
        },
        {
          item: "End Table",
          count: 0,
        },
        {
          item: "Console Table",
          count: 0,
        },
        {
          item: "Accent Table",
          count: 0,
        },
        {
          item: "Side Table",
          count: 0,
        },
        {
          item: "Nightstand",
          count: 0,
        },
        {
          item: "Writing Desk",
          count: 0,
        },
        {
          item: "Computer Desk",
          count: 0,
        },
        {
          item: "Study Table",
          count: 0,
        },
        {
          item: "Office Desk",
          count: 0,
        },
        {
          item: "Console Desk",
          count: 0,
        },
        {
          item: "Kitchen Table",
          count: 0,
        },
        {
          item: "Bar Table",
          count: 0,
        },
        {
          item: "Patio Table",
          count: 0,
        },
        {
          item: "Picnic Table",
          count: 0,
        },
        {
          item: "Folding Table",
          count: 0,
        },
        {
          item: "Game Table",
          count: 0,
        },
        {
          item: "Crafting Table",
          count: 0,
        },
      ],
    },
    Accessories: {
      items: [
        {
          item: "Barstool",
          count: 0,
        },
        {
          item: "Bench",
          count: 0,
        },
        {
          item: "Bookshelf",
          count: 0,
        },
        {
          item: "Cabinet",
          count: 0,
        },
        {
          item: "Shelving Unit",
          count: 0,
        },
        {
          item: "Wardrobe",
          count: 0,
        },
        {
          item: "Dresser",
          count: 0,
        },
        {
          item: "Drawer",
          count: 0,
        },
        {
          item: "Mirror",
          count: 0,
        },
        {
          item: "Lighting Fixture",
          count: 0,
        },
        {
          item: "Lamp",
          count: 0,
        },
        {
          item: "Rug",
          count: 0,
        },
        {
          item: "Curtains",
          count: 0,
        },
        {
          item: "Cushion",
          count: 0,
        },
        {
          item: "Throw Blanket",
          count: 0,
        },
        {
          item: "Vase",
          count: 0,
        },
        {
          item: "Decorative Bowl",
          count: 0,
        },
        {
          item: "Wall Art",
          count: 0,
        },
      ],
    },
  },
  appliancesData: {
    "Kitchen Appliances": {
      items: [
        {
          item: "Big (6-9 feet wide) Metal",
          count: 0,
        },
        {
          item: "Big (6-9 feet wide) Wooden",
          count: 0,
        },
        {
          item: "Big (6-9 feet wide) Dismentallable",
          count: 0,
        },
        {
          item: "Chest of 3 Drawers",
          count: 0,
        },
        {
          item: "Medium (6-9 feet wide) Metal",
          count: 0,
        },
        {
          item: "Medium (6-9 feet wide) Wooden",
          count: 0,
        },
        {
          item: "Medium (6-9 feet wide) Dismantallable",
          count: 0,
        },
      ],
    },
    "Laundry Appliances": {
      items: [
        {
          item: "Washing Machine",
          count: 0,
        },
        {
          item: "Dryer",
          count: 0,
        },
        {
          item: "Washer-Dryer Combo",
          count: 0,
        },
        {
          item: "Iron",
          count: 0,
        },
        {
          item: "Ironing Board",
          count: 0,
        },
        {
          item: "Steam Cleaner",
          count: 0,
        },
        {
          item: "Clothes Steamer",
          count: 0,
        },
      ],
    },
    "Home Comfort Appliances": {
      items: [
        {
          item: "Air Conditioner",
          count: 0,
        },
        {
          item: "Heater",
          count: 0,
        },
        {
          item: "Fan",
          count: 0,
        },
        {
          item: "Humidifier",
          count: 0,
        },
        {
          item: "Dehumidifier",
          count: 0,
        },
        {
          item: "Air Purifier",
          count: 0,
        },
        {
          item: "Oil Diffuser",
          count: 0,
        },
      ],
    },
    "Smart Home Appliances": {
      items: [
        {
          item: "Smart Thermostat",
          count: 0,
        },
        {
          item: "Smart Lighting",
          count: 0,
        },
        {
          item: "Smart Plug",
          count: 0,
        },
        {
          item: "Smart Lock",
          count: 0,
        },
        {
          item: "Smart Camera",
          count: 0,
        },
        {
          item: "Smart Speaker",
          count: 0,
        },
        {
          item: "Smart TV",
          count: 0,
        },
      ],
    },
    "Cleaning Appliances": {
      items: [
        {
          item: "Vacuum Cleaner",
          count: 0,
        },
        {
          item: "Robot Vacuum",
          count: 0,
        },
        {
          item: "Carpet Cleaner",
          count: 0,
        },
        {
          item: "Pressure Washer",
          count: 0,
        },
        {
          item: "Mop",
          count: 0,
        },
        {
          item: "Duster",
          count: 0,
        },
      ],
    },
  },
  cartonsData: {
    "Cardboard Boxes": {
      items: [
        {
          item: "Small Box",
          count: 0,
        },
        {
          item: "Medium Box",
          count: 0,
        },
        {
          item: "Large Box",
          count: 0,
        },
      ],
    },
    "Plastic Containers": {
      items: [
        {
          item: "Small Container",
          count: 0,
        },
        {
          item: "Medium Container",
          count: 0,
        },
        {
          item: "Large Container",
          count: 0,
        },
      ],
    },
    "Moving Kits": {
      items: [
        {
          item: "Starter Kit",
          count: 0,
        },
        {
          item: "Basic Kit",
          count: 0,
        },
        {
          item: "Complete Kit",
          count: 0,
        },
      ],
    },
  },
  totalFurnitureCount:0,
  totalApplianceCount:0,
  totalCartonsCount:0,
  totalItemCount:0,
};

const itemListSlice = createSlice({
    name: "itemList",
    initialState,
    reducers: {
      addItem: (state, action) => {
        const { category, itemIndex, type } = action.payload;
        if (type === "Furniture") {
            const categoryData = state.furnitureData[category];
            if (categoryData && categoryData.items[itemIndex]) {
                categoryData.items[itemIndex].count++;
                state.totalFurnitureCount++;
            }
        } else if (type === "Appliances") {
            const categoryData = state.appliancesData[category];
            if (categoryData && categoryData.items[itemIndex]) {
                categoryData.items[itemIndex].count++;
                state.totalApplianceCount++;
            }
        } else if (type === "Cartons") {
            const categoryData = state.cartonsData[category];
            if (categoryData && categoryData.items[itemIndex]) {
                categoryData.items[itemIndex].count++;
                state.totalCartonsCount++;
            }
        }
        state.totalItemCount++;
      },
      removeItem: (state, action) => {
        const { category, itemIndex, type } = action.payload;
        if (type === "Furniture") {
            const categoryData = state.furnitureData[category];
            if (categoryData && categoryData.items[itemIndex] && categoryData.items[itemIndex].count > 0) {
                categoryData.items[itemIndex].count--;
                state.totalFurnitureCount--;
                state.totalItemCount--;
            }
        } else if (type === "Appliances") {
            const categoryData = state.appliancesData[category];
            if (categoryData && categoryData.items[itemIndex] && categoryData.items[itemIndex].count > 0) {
                categoryData.items[itemIndex].count--;
                state.totalApplianceCount--;
                state.totalItemCount--;
            }
        } else if (type === "Cartons") {
            const categoryData = state.cartonsData[category];
            if (categoryData && categoryData.items[itemIndex] && categoryData.items[itemIndex].count > 0) {
                categoryData.items[itemIndex].count--;
                state.totalCartonsCount--;
                state.totalItemCount--;
            }
        }
    },    
    clearAllItems: (state) => {
      // Reset counts of all items to 0 for each category
      // Furniture
      Object.values(state.furnitureData).forEach((categoryData) => {
          categoryData.items.forEach((item) => {
              item.count = 0;
          });
      });
      // Appliances
      Object.values(state.appliancesData).forEach((categoryData) => {
          categoryData.items.forEach((item) => {
              item.count = 0;
          });
      });
      // Cartons
      Object.values(state.cartonsData).forEach((categoryData) => {
          categoryData.items.forEach((item) => {
              item.count = 0;
          });
      });
  
      // Reset total counts
      state.totalFurnitureCount = 0;
      state.totalApplianceCount = 0;
      state.totalCartonsCount = 0;
      state.totalItemCount = 0;
  }
    },
  });
  
  export const { addItem, removeItem, clearAllItems } = itemListSlice.actions;
  
  export default itemListSlice.reducer;